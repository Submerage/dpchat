<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>本地文档阅读器</title>
  <link rel="stylesheet" href="styles.css">
  <!-- 引入Mammoth.js用于解析DOCX文件 -->
  <script src="https://cdn.jsdelivr.net/npm/mammoth@1.4.22/mammoth.browser.min.js"></script>
  <!-- 引入PDF.js用于解析PDF文件 -->
  <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.4.120/build/pdf.min.js"></script>
</head>

<body>
  <div class="container">
    <header>
      <h1>📚 本地文档阅读器</h1>
      <div class="upload-container">
        <label for="file-input" class="custom-file-upload">
          <input type="file" id="file-input" accept=".txt,.pdf,.docx,.md,.html,.htm">
          上传文档
        </label>
        <button id="github-link" onclick="openGitHubRepo()">📁 GitHub仓库</button>
      </div>
    </header>

    <main>
      <div id="file-list" class="file-list">
        <h2>📂 仓库文档</h2>
        <div id="files-container">
          <p class="placeholder">正在加载文档列表...</p>
        </div>
      </div>

      <div id="reader-container" class="reader-container">
        <div id="reader-header" class="reader-header">
          <h2 id="document-title">请选择一个文档</h2>
          <div class="controls">
            <button id="prev-page" title="上一页" disabled>‹</button>
            <span id="page-info">1/1</span>
            <button id="next-page" title="下一页" disabled>›</button>
          </div>
        </div>
        <div id="document-content" class="document-content">
          <p class="placeholder">文档内容将显示在这里</p>
        </div>
        <div id="loading-indicator" class="loading-indicator" style="display: none;">
          <div class="spinner"></div>
          <p>正在加载文档...</p>
        </div>
      </div>
    </main>

    <footer>
      <p>本地文档阅读器 &copy; <span id="year"></span> | 支持格式: TXT, DOCX, PDF, MD, HTML</p>
      <p class="deploy-info">部署于GitHub Pages，所有文档必须预先提交到resources文件夹</p>
    </footer>
  </div>

  <script src="script.js"></script>
</body>

</html>